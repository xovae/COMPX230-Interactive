@page "/"
@using Microsoft.AspNetCore.Components.Infrastructure
@using RexSimulator.Hardware.Wramp
@using System.Security.Principal
@using System.Text.Json

<PageTitle>Home</PageTitle>

<div class="container-fluid" id="body">

    <div class="d-flex align-items-center">
        <img id="logo" src="img/reginald.png"/>
        <h1>WRAMP Sim</h1>
    </div>

    <div class="row">
        <div class="col-1">
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Level 1</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Level 2</a>
                </li>
            </ul>
        </div>

        <div class="col-11">
            <Level toolbox="@JsonSerializer.Serialize(toolbox)" registers="@registers" tabs="@tabs" levelNum="levelOne"/>
        </div>
    </div>
</div>
@code {
    public List<KeyValuePair<int, int>> registers = new() {
        new (1, 0)
    };

    public Tabs tabs = new Tabs(GPRegisters: true, RAM: true, ParallelRegisters: true, SerialPort: true, PhysicalComponents: true);

    public Toolbox toolbox = new Toolbox{
        contents = new List<Category>() {
            new Category {
                name = "Sections",
                categorystyle = "sectionCategory",
                contents = new List<Block>() {
                    new Block { type = "textHead" },
                    new Block { type = "global" },
                    new Block { type = "dataHead" },
                    new Block { type = "bssHead" },
                }
            },
            new Category {
                name = "Branch",
                categorystyle = "branchCategory",
                contents = new List<Block>() {
                    new Block { type = "label" },
                    new Block { type = "jump" },
                    new Block { type = "jumpRegister" },
                    new Block { type = "branchOn" }
                }
            },
            new Category {
                name = "Memory",
                categorystyle = "memoryCategory",
                contents = new List<Block>() {
                    new Block { type = "loadWord" },
                    new Block { type = "storeWord" },
                    new Block { type = "loadAddress" },
                    new Block { type = "word" },
                    new Block { type = "asciiz" },
                    new Block { type = "ascii" },
                    new Block { type = "space" }
                }
            },
            new Category {
                name = "Arithmetic",
                categorystyle = "arithmeticCategory",
                contents = new List<Block>() {
                    new Block { type = "arithmetic" },
                    new Block { type = "arithmeticUnsigned" },
                    new Block { type = "arithmeticImmediate" },
                    new Block { type = "arithmeticUnsignedImmediate" },
                    new Block { type = "loadHighImmediate" },
                }
            },
            new Category {
                name = "Logic",
                categorystyle = "logicCategory",
                contents = new List<Block>() {
                    new Block { type = "bitwise" },
                    new Block { type = "bitwiseImmediate" },
                    new Block { type = "shift" },
                    new Block { type = "shiftImmediate" },
                }
            },
            new Category {
                name = "Conditional",
                categorystyle = "conditionalCategory",
                contents = new List<Block>() {
                    new Block { type = "setOn" },
                    new Block { type = "setOnUnsigned" },
                    new Block { type = "setOnImmediate" },
                    new Block { type = "setOnUnsignedImmediate" },
                }
            },
            new Category {
                name = "Special",
                categorystyle = "specialCategory",
                contents = new List<Block>() {
                    new Block { type = "moveGeneralToSpecial" },
                    new Block { type = "moveSpecialToGeneral" },
                    new Block { type = "break" },
                    new Block { type = "syscall" },
                    new Block { type = "returnFromException" },
                }
            }
        }
    };
}